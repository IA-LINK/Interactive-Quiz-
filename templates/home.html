<!DOCTYPE html>
<html lang="en">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Enhanced Quiz App</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<style>
body {
font-family: Arial, sans-serif;
transition: background-color 0.3s, color 0.3s;
}

.dark-mode {
background-color: #121212;
color: #ffffff;
}

.progress-bar {
height: 30px;
background-color: #4CAF50;
transition: width 0.4s ease;
}

.timer {
font-size: 24px;
font-weight: bold;
color: #ff5555;
margin-bottom: 20px;
}

.question {
margin-bottom: 20px;
font-size: 20px;
font-weight: bold;
}

.answers label {
display: block;
margin-bottom: 10px;
}

.btn-submit {
margin-top: 20px;
background-color: #4CAF50;
color: white;
border: none;
padding: 10px 20px;
border-radius: 5px;
cursor: pointer;
}

.btn-submit:hover {
background-color: #45a049;
}

.dark-mode .btn-submit {
background-color: #555;
}

.leaderboard {
margin-top: 30px;
text-align: center;
}

.leaderboard table {
width: 100%;
margin-top: 10px;
}

.leaderboard th, .leaderboard td {
padding: 10px;
text-align: center;
}

.toggle-btn {
position: fixed;
top: 20px;
right: 20px;
background-color: #4CAF50;
color: white;
padding: 10px 20px;
border: none;
border-radius: 5px;
cursor: pointer;
}

.dark-mode .toggle-btn {
background-color: #555;
}
</style>
</head>

<body>

<button class="toggle-btn" id="toggle-dark-mode">Dark Mode</button>

<div class="container">
<div class="timer" id="timer">Time Left: 10:00</div>
<div class="progress mb-4">
<div class="progress-bar" id="progress-bar" style="width: 0%;">0%</div>
</div>

<div class="question" id="question">Question will appear here</div>
<div class="answers" id="answers">
<!-- Options will be dynamically inserted here -->
</div>
<button class="btn-submit" id="submit-btn">Submit Answer</button>

<div class="leaderboard" id="leaderboard">
<h3>Leaderboard</h3>
<table class="table table-bordered">
<thead>
<tr>
<th>Rank</th>
<th>Name</th>
<th>Score</th>
</tr>
</thead>
<tbody id="leaderboard-body">
<!-- Leaderboard entries will be dynamically inserted here -->
</tbody>
</table>
</div>
</div>

<script>
// Dark Mode Toggle
const toggleBtn = document.getElementById('toggle-dark-mode');
const body = document.body;

toggleBtn.addEventListener('click', () => {
body.classList.toggle('dark-mode');
localStorage.setItem('darkMode', body.classList.contains('dark-mode'));
});

// Load Dark Mode Preference
if (localStorage.getItem('darkMode') === 'true') {
body.classList.add('dark-mode');
}

// Quiz Logic
let timeLeft = 600; // 10 minutes
const timerElement = document.getElementById('timer');
const progressBar = document.getElementById('progress-bar');
const questionElement = document.getElementById('question');
const answersElement = document.getElementById('answers');
const submitBtn = document.getElementById('submit-btn');

const leaderboardBody = document.getElementById('leaderboard-body');

const questions = [
{ question: "Capital of France?", options: ["Paris", "London", "Berlin", "Madrid"], correct: "Paris" },
{ question: "Red Planet?", options: ["Earth", "Mars", "Jupiter", "Saturn"], correct: "Mars" }
];

const leaderboard = [
{ name: "Alice", score: 90 },
{ name: "Bob", score: 80 },
{ name: "Charlie", score: 70 }
];

let currentQuestionIndex = 0;

function startTimer() {
const interval = setInterval(() => {
if (timeLeft <= 0) {
clearInterval(interval);
alert("Time's up!");
} else {
timeLeft--;
const minutes = Math.floor(timeLeft / 60);
const seconds = timeLeft % 60;
timerElement.textContent = `Time Left: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
}
}, 1000);
}

function loadQuestion() {
const questionData = questions[currentQuestionIndex];
questionElement.textContent = `Q${currentQuestionIndex + 1}: ${questionData.question}`;
answersElement.innerHTML = '';
questionData.options.forEach(option => {
const label = document.createElement('label');
label.innerHTML = `<input type="radio" name="answer" value="${option}"> ${option}`;
answersElement.appendChild(label);
});

const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
progressBar.style.width = `${progress}%`;
progressBar.textContent = `${Math.round(progress)}%`;
}

function loadLeaderboard() {
leaderboardBody.innerHTML = '';
leaderboard.forEach((entry, index) => {
const row = document.createElement('tr');
row.innerHTML = `<td>${index + 1}</td><td>${entry.name}</td><td>${entry.score}</td>`;
leaderboardBody.appendChild(row);
});
}

submitBtn.addEventListener('click', () => {
const selected = document.querySelector('input[name="answer"]:checked');
if (!selected) {
alert("Please select an answer.");
return;
}

const answer = selected.value;
const correct = questions[currentQuestionIndex].correct;

if (answer === correct) {
alert("Correct!");
} else {
alert(`Wrong! The correct answer was ${correct}.`);
}

currentQuestionIndex++;
if (currentQuestionIndex < questions.length) {
loadQuestion();
} else {
alert("Quiz completed!");
}
});

// Initialize
startTimer();
loadQuestion();
loadLeaderboard();
</script>
</body>

</html>

